<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Calendar</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			font-family: sans-serif;
		}

		body {
			background-color: #f4f4f4;
		}

		h1 {
			text-align: center;
			margin-top: 20px;
			margin-bottom: 30px;
		}

		.calendar {
			width: 80%;
			margin: 0 auto;
			background-color: #fff;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
			padding: 20px;
		}

		table {
			width: 100%;
			border-collapse: collapse;
			margin-bottom: 30px;
		}

		th, td {
			text-align: center;
			padding: 10px;
			border: 1px solid #ddd;
		}

		th {
			background-color: #002B5C;
			color: #fff;
			font-weight: normal;
		}

		td {
			background-color: #f4f4f4;
			cursor: pointer;
		}

		td:hover {
			background-color: #E67E22;
			color: #fff;
		}

		.today {
			background-color: #002B5C;
			color: #fff;
		}

		.selected {
			background-color: #E67E22;
			color: #fff;
		}

		form {
			margin-top: 20px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}

		label {
			margin-bottom: 10px;
			font-weight: bold;
		}

		input, textarea {
			padding: 10px;
			margin-bottom: 20px;
			border-radius: 5px;
			border: none;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
		}

		input:focus, textarea:focus {
			outline: none;
		}

		.btn {
			background-color: #002B5C;
			color: #fff;
			padding: 10px 20px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
		}

		.btn:hover {
			background-color: #E67E22;
		}
	</style>
</head>
<body>
	<h1>Calendar</h1>

	<div class="calendar">
		<table>
			<thead>
				<tr>
					<th>Sun</th>
					<th>Mon</th>
					<th>Tue</th>
					<th>Wed</th>
					<th>Thu</th>
					<th>Fri</th>
					<th>Sat</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>

		<form>
			<label for="date">Date</label>
			<input type="text" id="date" name="date" readonly>

			<label for="title">Title</label>
			<input type="text" id="title" name="title" required>

			<label for="description">Description</label>
			<textarea id="description" name="description"></textarea>

			<button type="submit" class="btn">Add Event</button>
		</form>
	</div>

	<script>
		const tableBody = document.querySelector("table tbody");
const dateInput = document.querySelector("#date");
const titleInput = document.querySelector("#title");
const descInput = document.querySelector("#description");
const form = document.querySelector("form");

let selectedCell = null;

function generateCalendar(year, month) {
  tableBody.innerHTML = "";

  const date = new Date(year, month - 1, 1);
  const lastDay = new Date(year, month, 0).getDate();
  const firstDay = date.getDay();

  let dateNumber = 1;

  for (let i = 0; i < 6; i++) {
    const row = document.createElement("tr");

    for (let j = 0; j < 7; j++) {
      const cell = document.createElement("td");

      if (i === 0 && j < firstDay) {
        const text = document.createTextNode("");
        cell.appendChild(text);
      } else if (dateNumber > lastDay) {
        break;
      } else {
        const text = document.createTextNode(dateNumber);

        if (year === new Date().getFullYear() && month === new Date().getMonth() + 1 && dateNumber === new Date().getDate()) {
          cell.classList.add("today");
        }

        cell.appendChild(text);
        dateNumber++;

        const events = getEvents(year, month, dateNumber - 1);

        if (events.length > 0) {
          const ul = document.createElement("ul");

          events.forEach(event => {
            const li = document.createElement("li");
            li.textContent = event.title;
            ul.appendChild(li);
          });

          cell.appendChild(ul);
        }
      }

      cell.addEventListener("click", selectCell);

      row.appendChild(cell);
    }

    tableBody.appendChild(row);
  }
}

function selectCell(event) {
  if (selectedCell) {
    selectedCell.classList.remove("selected");
  }

  selectedCell = event.target;
  selectedCell.classList.add("selected");

  dateInput.value = `${new Date().getFullYear()}-${new Date().getMonth() + 1}-${selectedCell.innerText}`;
}

function addEvent(event) {
  event.preventDefault();

  const title = titleInput.value.trim();
  const desc = descInput.value.trim();

  if (!title) {
    alert("Title is required.");
    return;
  }

  if (!selectedCell) {
    alert("Please select a date.");
    return;
  }

  const events = getEvents(new Date(dateInput.value).getFullYear(), new Date(dateInput.value).getMonth() + 1, new Date(dateInput.value).getDate());

  events.push({
    date: dateInput.value,
    title: title,
    description: desc
  });

  localStorage.setItem("events", JSON.stringify(events));

  alert("Event added successfully.");
  form.reset();
  generateCalendar(new Date().getFullYear(), new Date().getMonth() + 1);
}

function getEvents(year, month, day) {
  const events = JSON.parse(localStorage.getItem("events")) || [];

  return events.filter(event => {
    const eventDate = new Date(event.date);

    return eventDate.getFullYear() === year && eventDate.getMonth() + 1 === month && eventDate.getDate() === day;
  });
}

form.addEventListener("submit", addEvent);

generateCalendar(new Date().getFullYear(), new Date().getMonth() + 1);
	</script>
</body>
</html>
		

    
    